#include <iostream>
#include "get_window.h"
#include <Eigen/Dense>
#include "File.h"
#include <string>
#include <unsupported/Eigen/FFT>

using namespace std;
string filepath = "weights/6/";
using namespace Eigen;
using Eigen::MatrixXd;
using Eigen::Matrix;

//double fea_mean[40] = {
//	-4.015415943778751107e+00,-4.419510233424299273e+00,-4.652001365307447678e+00,-4.865889700244615312e+00,-4.958069783078151715e+00,-5.010895631717882104e+00,-5.140940803132798109e+00,-5.291762887660254933e+00,-5.228644966043823672e+00,-5.374852569157784643e+00,-5.491810178021083289e+00,-5.626673279965617169e+00,-5.787113081079845678e+00,-5.953358763268376208e+00,-6.053467589728482423e+00,-6.242267547189747745e+00,-6.350593964934152957e+00,-6.338147257252839673e+00,-6.299078412562294282e+00,-6.313138378373770010e+00,-6.357129328553774883e+00,-6.460038747836000184e+00,-6.591556766284313085e+00,-6.714595327190512997e+00,-6.819721881617827108e+00,-6.902777756050224589e+00,-6.969432054590869008e+00,-7.022746885405736883e+00,-7.035155410427783806e+00,-7.080016274737254811e+00,-7.148448935030391027e+00,-7.199846533174277141e+00,-7.229914193084453267e+00,-7.251939573519507576e+00,-7.212552606335230543e+00,-7.132573406043791309e+00,-7.219544888723263831e+00,-7.339646765757588120e+00,-7.691450393743264335e+00,-8.675542641710604741e+00
//};
//double fea_std[40] = {
//	8.042239885998071491e-01,5.060814571537660678e-01,5.301901803695671100e-01,5.427650645310398980e-01,5.503956150370279410e-01,5.497755727834078288e-01,5.639938381608589069e-01,5.318151547265390633e-01,5.769925180928840991e-01,6.101941635604173353e-01,6.624375715191633818e-01,7.222968752179995677e-01,7.677227612222941033e-01,8.030778053461931076e-01,8.078444540060228940e-01,7.380735204849510067e-01,7.610231066467042504e-01,8.140283844754048204e-01,8.560566573140511171e-01,8.486385917983713112e-01,8.350817997178575647e-01,8.480699427064188889e-01,8.191011106476349113e-01,8.305633957006826051e-01,8.263683324633972482e-01,7.932518696281837256e-01,7.850657749208046488e-01,8.245224290780049925e-01,8.140565753975022023e-01,8.452629663096058454e-01,8.840835430642186576e-01,9.395254677886225592e-01,9.720838537459213224e-01,9.916567563541287544e-01,1.041496744400318031e+00,1.107702522329103711e+00,1.108638915250697687e+00,1.079559555536951043e+00,9.407922538069113383e-01,5.319659857836757100e-01
//};
MatrixXf get_mean()
{
	MatrixXf feature_mean(1,40);
    Read_File(feature_mean,filepath+ "mean.txt");
	//for (int i = 0; i < feature_mean.cols(); i++)
	//{
	//	feature_mean(i) = fea_mean[i];
	//}
	return feature_mean;
}
MatrixXf get_std()
{
	MatrixXf feature_std(1,40);
    Read_File(feature_std, filepath+"std.txt");
	//for (int i = 0; i < feature_std.cols(); i++)
	//{
	//	feature_std(i) = fea_std[i];
	//}
	return feature_std;
}
MatrixXf feature_mean = get_mean();
MatrixXf feature_std = get_std();
MatrixXf Normalize(MatrixXf feature_data)
{
	for (int i = 0; i < feature_data.rows(); i++)
	{
		feature_data.row(i) = ((feature_data.row(i) - feature_mean).array() / feature_std.array()).matrix();
	}
	return feature_data;
}
